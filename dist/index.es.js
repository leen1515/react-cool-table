import e,{useState as t,useMemo as n}from"react";function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}function a(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o,c,l=[],i=!0,u=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;i=!1}else for(;!(i=(r=o.call(n)).done)&&(l.push(r.value),l.length!==t);i=!0);}catch(e){u=!0,a=e}finally{try{if(!i&&null!=n.return&&(c=n.return(),Object(c)!==c))return}finally{if(u)throw a}}return l}}(e,t)||c(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function o(e){return function(e){if(Array.isArray(e))return l(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||c(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function c(e,t){if(e){if("string"==typeof e)return l(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?l(e,t):void 0}}function l(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var i=function(e){var t={};return Object.keys(e).forEach((function(n){"object"!==r(e[n])||null===e[n]||Array.isArray(e[n])?t[n]=e[n]:Object.keys(e[n]).forEach((function(r){t["".concat(n,".").concat(r)]=e[n][r]}))})),t},u=function(e,t){if(!Array.isArray(e)||0===e.length||"object"!==r(e[0])||null==e[0])return[];var n=i(e[0]);return Object.keys(n).map((function(e){var n=t?function(e){var t=e.split(".");return t[t.length-1].replace(/([A-Z])/g," $1").replace(/^./,(function(e){return e.toUpperCase()})).trim()}(e):e;return{Header:n,dataKey:e}}))};var s="data:image/svg+xml,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20height%3D%2216%22%20width%3D%2210%22%20viewBox%3D%220%200%20320%20512%22%3E%3Cpath%20opacity%3D%221%22%20fill%3D%22%231E3050%22%20d%3D%22M182.6%2041.4c-12.5-12.5-32.8-12.5-45.3%200l-128%20128c-9.2%209.2-11.9%2022.9-6.9%2034.9s16.6%2019.8%2029.6%2019.8H288c12.9%200%2024.6-7.8%2029.6-19.8s2.2-25.7-6.9-34.9l-128-128z%22%2F%3E%3C%2Fsvg%3E",m="data:image/svg+xml,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20height%3D%2216%22%20width%3D%2210%22%20viewBox%3D%220%200%20320%20512%22%3E%3Cpath%20opacity%3D%221%22%20fill%3D%22%231E3050%22%20d%3D%22M182.6%20470.6c-12.5%2012.5-32.8%2012.5-45.3%200l-128-128c-9.2-9.2-11.9-22.9-6.9-34.9s16.6-19.8%2029.6-19.8H288c12.9%200%2024.6%207.8%2029.6%2019.8s2.2%2025.7-6.9%2034.9l-128%20128z%22%2F%3E%3C%2Fsvg%3E";function g(t){var n=t.columnsName,r=t.onSortChange,a=t.sortConfig;if(!n)return null;return e.createElement("div",{className:"cool-column-container"},n.map((function(t,n){return e.createElement("div",{className:"cool-column",key:n,onClick:function(){return r(t.dataKey)}},e.createElement("div",{className:"cool-column-title-arrow"},t.Header||" ",function(t){if(a&&a.key===t){if("ascending"===a.direction)return e.createElement("img",{src:s,alt:"Ascending"});if("descending"===a.direction)return e.createElement("img",{src:m,alt:"Descending"})}return e.createElement("div",{className:"cool-arrow-container"},e.createElement("img",{src:s,alt:"Ascending"}),e.createElement("img",{src:m,alt:"Descending"}))}(t.dataKey)))})))}function f(t){var n,r,a=t.totalPages,o=t.currentPage,c=t.goToPage,l=t.goToNextPage,i=t.goToPrevPage,u=[];if(a<=10)n=1,r=a;else{var s=Math.floor(5),m=Math.ceil(5)-1;o<=s?(n=1,r=10):o+m>=a?(n=a-10+1,r=a):(n=o-s,r=o+m)}n>1&&u.push(e.createElement("span",{key:"startEllipsis"},"..."));for(var g=function(t){var n=o===t,r=n?"cool-page-active":"";u.push(e.createElement("button",{className:"cool-page-btn ".concat(r),key:t,onClick:function(){return!n&&c(t)},disabled:n},t))},f=n;f<=r;f++)g(f);return r<a&&u.push(e.createElement("span",{key:"endEllipsis"},"...")),e.createElement("div",{className:"cool-pagination-controls"},e.createElement("button",{className:"cool-navigation-btn",onClick:i,disabled:1===o},"Previous"),e.createElement("button",{className:"cool-navigation-btn",onClick:function(){return c(1)},disabled:1===o},"1"),u,e.createElement("button",{className:"cool-navigation-btn",onClick:function(){return c(a)},disabled:o===a}," ",a," "),e.createElement("button",{className:"cool-navigation-btn",onClick:l,disabled:o===a},"Next"))}function d(e){return null==e?" ":"object"===r(e)?JSON.stringify(e):function(e){if("string"==typeof e&&/^\d{4}-\d{1,2}-\d{1,2}$|^\d{1,2}\/\d{1,2}\/\d{4}$|^\d{4}-\d{1,2}-\d{1,2}T\d{1,2}:\d{1,2}:\d{1,2}.\d{3}Z$/.test(e)){var t=new Date(e);if(!isNaN(t.getTime()))return t.toLocaleDateString("fr-FR",{year:"numeric",month:"numeric",day:"numeric"})}return e}(e).toString()}function v(n){var r=n.linesValues,o=n.columnsName,c=n.rowsPerPage,l=function(e,n){var r=a(t(1),2),o=r[0],c=r[1],l=Math.ceil(e/n);return{currentPage:o,totalPages:l,goToNextPage:function(){c((function(e){return e<l?e+1:e}))},goToPrevPage:function(){c((function(e){return e>1?e-1:e}))},goToPage:function(e){c(e)},currentData:function(){var e=(o-1)*n;return{start:e,end:e+n}}}}(r.length,c),u=l.currentPage,s=l.totalPages,m=l.goToNextPage,g=l.goToPrevPage,v=l.currentData,y=l.goToPage;if(!r)return null;var p=v(),b=p.start,h=p.end,E=r.slice(b,h),w=b+1,N=h,P=r.length;return e.createElement(e.Fragment,null,e.createElement("div",{className:"cool-body-table"},E.map((function(t,n){var r=i(t);return e.createElement("div",{className:"cool-row-container",key:n},o.map((function(t,a){var o=r[t.dataKey];return e.createElement("div",{className:"cool-cell",key:"".concat(n,"-").concat(a)},d(o))})))}))),e.createElement("div",{className:"cool-pagination-navigation-container"},e.createElement("div",{className:"cool-pagination-info"},"Showing ",w," to ",N," of ",P),e.createElement(f,{totalPages:s,currentPage:u,goToNextPage:m,goToPrevPage:g,goToPage:y})))}function y(t){var n=t.rowsPerPage,r=t.setRowsPerPage;return e.createElement("div",{className:"cool-selector-container"},e.createElement("label",{htmlFor:"rows-per-page"},"Show"),e.createElement("select",{id:"rows-per-page",value:n,onChange:function(e){r(parseInt(e.target.value,10))}},e.createElement("option",{value:"10"},"10"),e.createElement("option",{value:"25"},"25"),e.createElement("option",{value:"50"},"50"),e.createElement("option",{value:"100"},"100")),"entries")}function p(r){var c=r.data,l=r.excludedColumns,s=a(t(""),2),m=s[0],f=s[1],d=a(t(10),2),p=d[0],b=d[1],h=a(t({key:null,direction:null}),2),E=h[0],w=h[1],N=function(e,t){return e.map((function(e){var n={};return Object.keys(e).forEach((function(r){t.includes(r)||(n[r]=e[r])})),n}))}(c,l),P=u(N,!0),D=u(N,!1),k=m?N.filter((function(e){var t=i(e);return Object.values(t).some((function(e){return String(e).toLowerCase().includes(m.toLowerCase())}))})):N,C=n((function(){var e=o(k);return E.key&&null!==E.direction&&e.sort((function(e,t){var n,r=E.key.split("."),a=r.length>1?e[r[0]][r[1]]:e[E.key],o=r.length>1?t[r[0]][r[1]]:t[E.key];if(null==a&&null==o)return 0;if(null==a)return-1;if(null==o)return 1;switch(n=a,isNaN(Date.parse(n))||isNaN(new Date(n).getDate())?isNaN(n)||"string"==typeof n?"string":"number":"date"){case"date":return(new Date(a)-new Date(o))*("ascending"===E.direction?1:-1);case"number":return(a-o)*("ascending"===E.direction?1:-1);default:return a.localeCompare(o)*("ascending"===E.direction?1:-1)}})),e}),[k,E]);return c?e.createElement("div",{className:"cool-table"},e.createElement("div",{className:"cool-head-table"},e.createElement(y,{rowsPerPage:p,setRowsPerPage:b}),e.createElement("div",{className:"cool-search-input-container"},e.createElement("label",{htmlFor:"search"},"Search: "),e.createElement("input",{name:"search",id:"search",type:"text",value:m,onChange:function(e){return f(e.target.value)}}))),e.createElement(g,{columnsName:P,columnsRef:D,onSortChange:function(e){var t="ascending";E.key===e&&null!==E.direction&&(t="ascending"===E.direction?"descending":"descending"===E.direction?null:"ascending"),w({key:e,direction:t})},sortConfig:E}),e.createElement(v,{linesValues:C,columnsName:D,rowsPerPage:p})):null}export{p as CoolTable};
//# sourceMappingURL=index.es.js.map
