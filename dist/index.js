"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var e=require("react");function t(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}var n=t(e);function a(e){return a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a(e)}function r(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var a,r,o,l,c=[],i=!0,u=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;i=!1}else for(;!(i=(a=o.call(n)).done)&&(c.push(a.value),c.length!==t);i=!0);}catch(e){u=!0,r=e}finally{try{if(!i&&null!=n.return&&(l=n.return(),Object(l)!==l))return}finally{if(u)throw r}}return c}}(e,t)||l(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function o(e){return function(e){if(Array.isArray(e))return c(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||l(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function l(e,t){if(e){if("string"==typeof e)return c(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?c(e,t):void 0}}function c(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}var i=function(e){var t={};return Object.keys(e).forEach((function(n){"object"!==a(e[n])||null===e[n]||Array.isArray(e[n])?t[n]=e[n]:Object.keys(e[n]).forEach((function(a){t["".concat(n,".").concat(a)]=e[n][a]}))})),t},u=function(e,t){if(!Array.isArray(e)||0===e.length||"object"!==a(e[0])||null==e[0])return[];var n=i(e[0]);return Object.keys(n).map((function(e){var n=t?function(e){var t=e.split(".");return t[t.length-1].replace(/([A-Z])/g," $1").replace(/^./,(function(e){return e.toUpperCase()})).trim()}(e):e;return{Header:n,dataKey:e}}))};var s="data:image/svg+xml,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20height%3D%2216%22%20width%3D%2210%22%20viewBox%3D%220%200%20320%20512%22%3E%3Cpath%20opacity%3D%221%22%20fill%3D%22%231E3050%22%20d%3D%22M182.6%2041.4c-12.5-12.5-32.8-12.5-45.3%200l-128%20128c-9.2%209.2-11.9%2022.9-6.9%2034.9s16.6%2019.8%2029.6%2019.8H288c12.9%200%2024.6-7.8%2029.6-19.8s2.2-25.7-6.9-34.9l-128-128z%22%2F%3E%3C%2Fsvg%3E",f="data:image/svg+xml,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20height%3D%2216%22%20width%3D%2210%22%20viewBox%3D%220%200%20320%20512%22%3E%3Cpath%20opacity%3D%221%22%20fill%3D%22%231E3050%22%20d%3D%22M182.6%20470.6c-12.5%2012.5-32.8%2012.5-45.3%200l-128-128c-9.2-9.2-11.9-22.9-6.9-34.9s16.6-19.8%2029.6-19.8H288c12.9%200%2024.6%207.8%2029.6%2019.8s2.2%2025.7-6.9%2034.9l-128%20128z%22%2F%3E%3C%2Fsvg%3E";function d(e){var t=e.columnsName,a=e.onSortChange,r=e.sortConfig;if(!t)return null;return n.default.createElement("div",{className:"cool-column-container"},t.map((function(e,t){return n.default.createElement("div",{className:"cool-column",key:t,onClick:function(){return a(e.dataKey)}},n.default.createElement("div",{className:"cool-column-title-arrow"},e.Header||" ",function(e){if(r&&r.key===e){if("ascending"===r.direction)return n.default.createElement("img",{src:s,alt:"Ascending"});if("descending"===r.direction)return n.default.createElement("img",{src:f,alt:"Descending"})}return n.default.createElement("div",{className:"cool-arrow-container"},n.default.createElement("img",{src:s,alt:"Ascending"}),n.default.createElement("img",{src:f,alt:"Descending"}))}(e.dataKey)))})))}function m(e){var t,a,r=e.totalPages,o=e.currentPage,l=e.goToPage,c=e.goToNextPage,i=e.goToPrevPage,u=[];if(r<=10)t=1,a=r;else{var s=Math.floor(5),f=Math.ceil(5)-1;o<=s?(t=1,a=10):o+f>=r?(t=r-10+1,a=r):(t=o-s,a=o+f)}t>1&&u.push(n.default.createElement("span",{key:"startEllipsis"},"..."));for(var d=function(e){var t=o===e,a=t?"cool-page-active":"";u.push(n.default.createElement("button",{className:"cool-page-btn ".concat(a),key:e,onClick:function(){return!t&&l(e)},disabled:t},e))},m=t;m<=a;m++)d(m);return a<r&&u.push(n.default.createElement("span",{key:"endEllipsis"},"...")),n.default.createElement("div",{className:"cool-pagination-controls"},n.default.createElement("button",{className:"cool-navigation-btn",onClick:i,disabled:1===o},"Previous"),n.default.createElement("button",{className:"cool-navigation-btn",onClick:function(){return l(1)},disabled:1===o},"1"),u,n.default.createElement("button",{className:"cool-navigation-btn",onClick:function(){return l(r)},disabled:o===r}," ",r," "),n.default.createElement("button",{className:"cool-navigation-btn",onClick:c,disabled:o===r},"Next"))}function g(e){return null==e?" ":"object"===a(e)?JSON.stringify(e):function(e){if("string"==typeof e&&/^\d{4}-\d{1,2}-\d{1,2}$|^\d{1,2}\/\d{1,2}\/\d{4}$|^\d{4}-\d{1,2}-\d{1,2}T\d{1,2}:\d{1,2}:\d{1,2}.\d{3}Z$/.test(e)){var t=new Date(e);if(!isNaN(t.getTime()))return t.toLocaleDateString("fr-FR",{year:"numeric",month:"numeric",day:"numeric"})}return e}(e).toString()}function v(t){var a=t.linesValues,o=t.columnsName,l=t.rowsPerPage,c=function(t,n){var a=r(e.useState(1),2),o=a[0],l=a[1],c=Math.ceil(t/n);return{currentPage:o,totalPages:c,goToNextPage:function(){l((function(e){return e<c?e+1:e}))},goToPrevPage:function(){l((function(e){return e>1?e-1:e}))},goToPage:function(e){l(e)},currentData:function(){var e=(o-1)*n;return{start:e,end:e+n}}}}(a.length,l),u=c.currentPage,s=c.totalPages,f=c.goToNextPage,d=c.goToPrevPage,v=c.currentData,y=c.goToPage;if(!a)return null;var p=v(),b=p.start,h=p.end,E=a.slice(b,h),w=b+1,P=h,N=a.length;return n.default.createElement(n.default.Fragment,null,n.default.createElement("div",{className:"cool-body-table"},E.map((function(e,t){var a=i(e);return n.default.createElement("div",{className:"cool-row-container",key:t},o.map((function(e,r){var o=a[e.dataKey];return n.default.createElement("div",{className:"cool-cell",key:"".concat(t,"-").concat(r)},g(o))})))}))),n.default.createElement("div",{className:"cool-pagination-navigation-container"},n.default.createElement("div",{className:"cool-pagination-info"},"Showing ",w," to ",P," of ",N),n.default.createElement(m,{totalPages:s,currentPage:u,goToNextPage:f,goToPrevPage:d,goToPage:y})))}function y(e){var t=e.rowsPerPage,a=e.setRowsPerPage;return n.default.createElement("div",{className:"cool-selector-container"},n.default.createElement("label",{htmlFor:"rows-per-page"},"Show"),n.default.createElement("select",{id:"rows-per-page",value:t,onChange:function(e){a(parseInt(e.target.value,10))}},n.default.createElement("option",{value:"10"},"10"),n.default.createElement("option",{value:"25"},"25"),n.default.createElement("option",{value:"50"},"50"),n.default.createElement("option",{value:"100"},"100")),"entries")}exports.CoolTable=function(t){var a=t.data,l=t.excludedColumns,c=r(e.useState(""),2),s=c[0],f=c[1],m=r(e.useState(10),2),g=m[0],p=m[1],b=r(e.useState({key:null,direction:null}),2),h=b[0],E=b[1],w=function(e,t){return e.map((function(e){var n={};return Object.keys(e).forEach((function(a){t.includes(a)||(n[a]=e[a])})),n}))}(a,l),P=u(w,!0),N=u(w,!1),S=s?w.filter((function(e){var t=i(e);return Object.values(t).some((function(e){return String(e).toLowerCase().includes(s.toLowerCase())}))})):w,C=e.useMemo((function(){var e=o(S);return h.key&&null!==h.direction&&e.sort((function(e,t){var n,a=h.key.split("."),r=a.length>1?e[a[0]][a[1]]:e[h.key],o=a.length>1?t[a[0]][a[1]]:t[h.key];if(null==r&&null==o)return 0;if(null==r)return-1;if(null==o)return 1;switch(n=r,isNaN(Date.parse(n))||isNaN(new Date(n).getDate())?isNaN(n)||"string"==typeof n?"string":"number":"date"){case"date":return(new Date(r)-new Date(o))*("ascending"===h.direction?1:-1);case"number":return(r-o)*("ascending"===h.direction?1:-1);default:return r.localeCompare(o)*("ascending"===h.direction?1:-1)}})),e}),[S,h]);return a?n.default.createElement("div",{className:"cool-table"},n.default.createElement("div",{className:"cool-head-table"},n.default.createElement(y,{rowsPerPage:g,setRowsPerPage:p}),n.default.createElement("div",{className:"cool-search-input-container"},n.default.createElement("label",{htmlFor:"search"},"Search: "),n.default.createElement("input",{name:"search",id:"search",type:"text",value:s,onChange:function(e){return f(e.target.value)}}))),n.default.createElement(d,{columnsName:P,columnsRef:N,onSortChange:function(e){var t="ascending";h.key===e&&null!==h.direction&&(t="ascending"===h.direction?"descending":"descending"===h.direction?null:"ascending"),E({key:e,direction:t})},sortConfig:h}),n.default.createElement(v,{linesValues:C,columnsName:N,rowsPerPage:g})):null};
//# sourceMappingURL=index.js.map
